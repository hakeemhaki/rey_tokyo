!function(e){"use strict";var t=function(e,t,a){if(e&&t&&a){var n={value:t,expires_at:(new Date).getTime()+a/1};localStorage.setItem(e.toString(),JSON.stringify(n))}},a=function(e){if(!e)return null;var t=JSON.parse(localStorage.getItem(e.toString()));if(null!==t){if(!(null!==t.expires_at&&t.expires_at<(new Date).getTime()))return t.value;localStorage.removeItem(e.toString())}return null};e(".js-rey-copy-code").on("click",(function(t){t.preventDefault();var a=e(t.currentTarget),n=(e(a).text(),e(a).next("pre").text()),r=e("<input>");e("body").append(r),r.val(n).select(),document.execCommand("copy"),r.remove(),a.closest(".rey-codeBlock").addClass("is-copied")})),!_.isUndefined(reyCoreAdmin.back_btn_text)&&_.isUndefined(reyCoreAdmin.back_btn_url)&&e(".post-type-rey-global-sections.post-php a.page-title-action").after((function(){return'<a class="rey-gs-back-button" href="'+reyCoreAdmin.back_btn_url+'">'+reyCoreAdmin.back_btn_text+"</a>"}));var n,r,i=!1;window.onbeforeunload=function(){if(i)return"Import is in progress!"},e(".js-rey-refresh-demos").on("click",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading").text(reyCoreAdmin.strings.refresh_btn_text),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_refresh_demos",security:reyCoreAdmin.ajax_nonce},success:function(e){e&&1==e.success&&(a.text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3))},error:function(e,t,n){a.removeClass("--loading").text(reyCoreAdmin.strings.refresh_demos_error),console.error(e),console.error(t),console.error(n)}})})),e(document).on("ocdiImportComplete",(function(){var t=new Audio(reyCoreAdmin.sound_effect);t.oncanplay=function(){t.play()},e(".js-ocdi-ajax-response").length&&e("html, body").animate({scrollTop:e(".js-ocdi-ajax-response").offset.top})})),e(".ocdi__gl-item-image").each((function(t,a){var n=e(a);n.attr("src",n.attr("data-src")).on("load",(function(){n.addClass("--loaded")}))})),e("#acf-group_5c4ad0bd35b33 .acf-hndle-cog").before('<a href="https://support.reytheme.com/kb/settings-for-individual-page-post-taxonomy-category/" target="_blank" class="acf-rey-help-link">'+reyCoreAdmin.strings.help+"</a>"),e(document).on("ocdiImportComplete ",(function(t){e(".js-ocdi-ajax-response").append('<div class="notice notice-success"><p>'+reyCoreAdmin.ocdi_strings.visit_site+"</p></div>"),i=!1,e("body").removeClass("rey-is-importing"),document.title=reyCoreAdmin.ocdi_strings.title_done})),e(document).on("reycore/ocdi/failed_import ",(function(t){e(".js-ocdi-ajax-response").append('<div class="notice notice-error is-dismissible"><p>'+reyCoreAdmin.ocdi_strings.seek_help+"</p></div>"),i=!1,e("body").removeClass("rey-is-importing"),document.title=reyCoreAdmin.ocdi_strings.title_done})),e(document).on("reycore/ocdi/import_demo",(function(t,a,n,r,o,s){i=!0,document.title=reyCoreAdmin.ocdi_strings.title_importing;var c=function(){r.dialog("close"),e.ocdiGridLayoutImport(a,n),e("body").addClass("rey-is-importing")},l=[],d=new URL(window.location.href).searchParams.get("page")||"",u=e("#js-plugin-dep--"+s[a].slug).find('input[type="checkbox"]');if(u.length){u.each((function(t,a){e(a).prop("checked")&&l.push(e(a).val()),e(a).prop("disabled",!0)})),o.addClass("disabled"),o.prev(".ui-button").addClass("disabled"),r.closest(".wp-dialog--rey").find(".ui-dialog-titlebar-close").hide(300),r.dialog("option","closeOnEscape",!1),e(".rey-pluginDeps input:checked",r).closest("li").addClass("--is-installing"),r.append("<p class='reyAdmin-response reyAdmin-notice --info'>"+reyCoreAdmin.ocdi_strings.installing_plugins_text+"</p>");var p=function(){e.ajax({method:"post",url:reyCoreAdmin.ajax_url,dataType:"text",cache:!1,data:{action:"rey_install_plugin_dependencies",security:reyCoreAdmin.ajax_nonce,plugins:l,page:d},success:function(t){var a,n=!(!(a=/{("success"[^}]+)}/g.exec(t))||!a.length)&&JSON.parse(a[0]);n?n.success&&!0===n.success&&!1!==n.data?(e(".rey-pluginDeps li[data-slug='"+n.data+"']",r).hide(400),p()):(e(".reyAdmin-response",r).text(reyCoreAdmin.ocdi_strings.finished_installing_plugins),setTimeout((function(){c()}),1e3)):(o.removeClass("loading"),e(".reyAdmin-response",r).remove(),r.append("<p class='reyAdmin-response reyAdmin-notice --error'>"+n.data+"</p>"))},error:function(t,a,n){e(".reyAdmin-response",r).remove(),r.append("<p class='reyAdmin-response reyAdmin-notice --error'>"+reyCoreAdmin.ocdi_strings.something_went_wrong+"</p>"),console.error(t),console.error(a),console.error(n)}})};p()}else c()})),function(n){if(void 0!==n){var r={start:[],end:[]};n.control.bind("add",(function(t){t.params&&("number"===t.params.type&&t.container.addClass("--wrapped").wrapInner('<div class="control-wrap" />'),"rey_group_start"===t.params.type&&r.start.push(t),"rey_group_end"===t.params.type&&r.end.push(t),"rey-hf-global-section"===t.params.type&&function(t){var a=t.container,r=e('.rey-radio-choices input[type="radio"]',a),i=e(".rey-gs-list",a),o=e("select",i),s=e(".rey-gs-links",i),c=e('input[type="hidden"]',a),l=function(e){return"none"!==e&&"default"!==e},d=function(e){c.val(e).trigger("change")};"undefined"!==t.params.choices.global_sections&&Object.keys(t.params.choices.global_sections).length&&"gs"===e('.rey-radio-choices input[type="radio"]:checked',a).val()&&(t.params.value in t.params.choices.global_sections||n(t.id,(function(e){e.set(Object.keys(t.params.choices.global_sections)[0])}))),r.on("change",(function(e){i.toggleClass("--active",l(e.target.value)),l(e.target.value)?d(o.val()):d(e.target.value)})),o.on("change",(function(t){var a=t.target.value;e(".rey-gs-linksEdit",s).removeClass("--active"),e('.rey-gs-linksEdit[data-id="'+a+'"]',s).addClass("--active"),d(a)}))}(t))}));e(document).on("click",(function(t){e(t.target).closest(".wrapper.--active").length||e(".rey-cstTypo-btn.--active").length&&(e(".rey-cstTypo-btn").removeClass("--active"),e(".customize-control.rey-cstTypo > .wrapper").removeClass("--active"))})),e(document).on("click",".rey-cstTypo-btn",(function(t){t.preventDefault();var a=e(this);a.hasClass("--active")||setTimeout((function(){a.addClass("--active"),a.closest(".rey-cstTypo").children(".wrapper").addClass("--active")}),100)})),e(document).on("reycore/customizer/section_expanded",(function(t,a){a.contentContainer;var n=a.controls();e.each(n,(function(t,a){"kirki-typography"===a.params.type&&function(t){var a=t.container;if(!e('[data-should-collapse="no"]',a).length&&!e(".rey-cstTypo-wrapper",a).length){a.addClass("rey-cstTypo");var n=e(".wrapper",a),r=e(".font-family select",n),i=e(".font-size input",n),o=e(".variant select",n),s=wp.template("rey-customizer-typo-handler"),c=a.prepend(s({ff:e('option[value="'+r.val()+'"]',r).text(),fz:i.val(),fw:o.val()}));r.on("change",(function(t){var a=e('option[value="'+e(this).val()+'"]',this).text();e(".rey-cstTypo-ff",c).text(a)})),i.on("change",(function(t){var a=e(this),n=a.val(),r=a.parent();r.removeClass("--invalid"),n&&(isNaN(n)||(r.addClass("--invalid"),a.val(parseInt(n)+"px")),e(".rey-cstTypo-fz",c).text(n))})),o.on("change",(function(t){e(".rey-cstTypo-fw",c).text(e(this).val())})),e(document).on("keyup",(function(e){27==e.keyCode&&n.removeClass("--active")}))}}(a)}))})),n.bind("ready",(function(){e.each(r.start,(function(e,t){var a=r.end[e];a&&(a.container.toggleClass("--is-active",t.params.active),t.active.bind((function(e){a.container.toggleClass("--is-active",e)})))})),n.section.each((function(t){t.expanded.bind((function(a){if(a){e(document).trigger("reycore/customizer/section_expanded",t);var n=t.container,i=t.contentContainer;e(".customize-control [data-control-class]",n).each((function(){var t=e(this);t.closest(".customize-control").addClass(t.attr("data-control-class"))})),e.each(r.start,(function(t,a){if(e(a.container,i).length){var n=r.end[t];n&&(a.container.addClass("--is-grouped"),a.container.nextUntil(n.container).addClass("--is-grouped"))}}))}}))}));var t=n.control,a=e(".wp-full-overlay"),i=[];t.each((function(t){if(t.params&&void 0!==t.params.required&&t.params.required.length&&e(t.container).addClass("--conditioned"),t.params&&void 0!==t.params.is_responsive){var r=e(t.container),o=t.params.is_responsive,s=t.params.required.length;o&&s&&i.push(t),r.attr("data-breakpoint",o);var c=function(){var t="desktop";return e.each(["desktop","tablet","mobile"],(function(e,n){a.hasClass("preview-"+n)&&(t=n)})),t};s&&e.each(t.params.required,(function(e,a){n(a.setting,(function(e){e.bind((function(e){kirkiDependencies.showKirkiControl(t)&&c()!==o&&setTimeout((function(){r.css("display","none")}),50)}))}))}));var l=function(a,n){var r=".rey-cst-responsiveHandlers";n===c()?s&&kirkiDependencies.showKirkiControl(t)&&a.css("display","list-item"):a.css("display","none");var i=e(r,a);if(!i.length){var o=wp.template("rey-customizer-responsive-handler");i=a.prepend(o({device:n})),e("span[data-breakpoint]",i).on("click",(function(t){t.preventDefault();var a=e(this),n=a.attr("data-breakpoint"),i=e('.wp-full-overlay-footer .devices button[data-device="'+n+'"]'),o=e("#customize-theme-controls"),s=a.closest(".customize-control").attr("id").replace("_tablet","").replace("_mobile","");a.parent().hasClass("--active")&&a.closest(".wp-full-overlay").hasClass("preview-"+n)&&a.closest(".customize-control").is("[data-breakpoint='"+n+"']")?(e(r).removeClass("--active"),o.removeClass("--active")):(e(r).removeClass("--active"),e.each(["","_tablet","_mobile"],(function(t,a){e("#"+s+a).children(r).addClass("--active")})),o.addClass("--active")),i.length&&i.trigger("click")}))}};e(document).on("click","#customize-theme-controls.--active",(function(t){e(t.target).closest(".rey-cst-responsiveHandlers").length||e(".rey-cst-responsiveHandlers").removeClass("--active")})),n.section(t.section(),(function(e){e.expanded()||wp.customize.settings.autofocus.control===t.id?l(r,o):e.expanded.bind((function(e){e&&l(r,o)}))}))}if(t.params&&t.params.inputAttrs&&-1!==t.params.inputAttrs.indexOf("data-needs-unit")&&n(t.id,(function(a){a.bind(_.debounce((function(a){"kirki-dimensions"===t.params.type&&_.each(a,(function(a,n){if(""!==a&&"px"!==a&&!isNaN(a)){var r=e('input[data-choice="'+n+'"]',t.container),i=r.attr("data-needs-unit");r.val(parseInt(a)+i)}}))}),500))})),t.params&&"number"===t.params.type){var d=function(e){e.hasClass("--wrapped")||e.addClass("--wrapped").wrapInner('<div class="control-wrap" />')};n.section(t.section(),(function(e){e.expanded()||wp.customize.settings.autofocus.control===t.id?d(t.container):e.expanded.bind((function(e){e&&d(t.container)}))}))}t.id})),e(".wp-full-overlay-footer .devices button").on("click",(function(){var t=e(this).attr("data-device");e(".customize-control[data-breakpoint]:not(.--conditioned)",a).css("display","none"),e('.customize-control[data-breakpoint="'+t+'"]:not(.--conditioned)',a).css("display","list-item"),e.each(i,(function(a,n){var r=e(n.container);r.css("display","none"),kirkiDependencies.showKirkiControl(n)&&r.attr("data-breakpoint")==t&&r.css("display","list-item")}))})),e(".js-rey-button[data-action='ajaxfilter_clear_transient']").on("click",(function(t){var a=e(this),n=a.attr("data-action")||"";n&&(t.preventDefault(),a.addClass("--loading disabled"),e.post({url:reyCoreAdmin.ajax_url,data:{action:n,security:reyCoreAdmin.ajax_nonce},success:function(e){a.removeClass("--loading disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}}))})),e(document).on("click","#accordion-section-header_cart_options_woo",(function(e){e.preventDefault(),n.section("header_cart_options",(function(e){e.focus()}))})),"undefined"!=typeof _wpCustomizeSettings&&_wpCustomizeSettings.theme.stylesheet&&a.attr("data-theme",_wpCustomizeSettings.theme.stylesheet),e(".js-rey-button[data-action='rey_transfer_mods']").on("click",(function(t){var a=e(this),n=a.attr("data-action"),r=a.attr("data-default");(t.preventDefault(),n&&r)&&(confirm("Are you sure you want to override the settings? Also, please export your current settings first.")&&(a.addClass("--loading disabled"),e.post({url:reyCoreAdmin.ajax_url,data:{action:n,type:r,security:reyCoreAdmin.ajax_nonce},success:function(e){e&&e.success&&(a.text("Reloading page.."),setTimeout((function(){window.location.reload()}),1e3)),a.removeClass("--loading disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})))}))}));var i=function(){var r="reycore-preview-disabled",o=a(r)&&!0===a(r),s=e("#customize-preview"),c=s.parent(),l="Disable Preview Frame",d="Enable Preview Frame";e("iframe",s).length?(o&&s.length&&(c.addClass("--preview-disabled"),s.remove()),e(document).on("click","#publish-settings",(function(){if(!e("#customize-control-disable-preview").length){var t=e("#customize-control-changeset_preview_link");if(!t.length)return;e('<li id="customize-control-disable-preview" class="customize-control" style="display: list-item;"><button type="button" class="button button-primary js-disable-preview '+(o?"--disabled":"")+'"><span>'+(o?d:l)+"</span></button></li>").insertAfter(t)}})),e(document).on("click",".js-disable-preview",(function(a){a.preventDefault();var n=e(this);if(n.hasClass("--disabled")){n.removeClass("--disabled"),localStorage.removeItem(r);var i=s.appendTo(c),o=e("iframe",i);o.attr("src",o.attr("data-src")),c.removeClass("--preview-disabled"),e("span",n).text(l)}else n.addClass("--disabled"),t(r,!0,18144e6),s.remove(),c.addClass("--preview-disabled"),e("span",n).text(d)})),_.each(["panel","section","control"],(function(e){if(o){var t=n.settings.autofocus[e];t&&n[e](t,(function(t){"control"===e&&t.deferred.embedded.resolve(),t.deferred.embedded.done((function(){t.focus()}))}))}}))):setTimeout((function(){i()}),500)};i(),n.controlConstructor["rey-color"]=n.Control.extend({ready:function(){this.globalIsInit=!1,this.template(this),this.initPicker()},initVars:function(t){this.globalIsInit||(this.$pickerContainer=e(t).closest(".wp-picker-container"),this.$pickerButton=e(".wp-color-result",this.$pickerContainer),this.$globalButton=e(".rey-colorGlobal",this.container),this.$globalPop=e(".rey-colorGlobal-pop",this.container),this.globalIsInit=!0,this.isActiveGlobal()&&this.$globalButton.addClass("--active"),this.events())},isActiveGlobal:function(){return-1!==this.setting._value.indexOf("var")},getColorCode:function(){return e('.__item[data-color-var="'+this.setting._value+'"]',this.$globalPop).attr("data-color")||this.setting._value},initPicker:function(){var t=this;this.$picker=e(".rey-color-control",this.container),this.$picker.wpColorPicker({palettes:!1,create:function(a){t.initVars(a.target),t.isActiveGlobal()&&e(".color-alpha",t.$pickerButton).css("background-color",t.getColorCode())},change:_.debounce((function(e){t.isActiveGlobal()||t.saveValue(t.$picker.val(),!0),t.checkEmpty()}),400),clear:function(e){t.saveValue(t.$picker.val(),!0),t.checkEmpty()}})},checkEmpty:function(){this.$pickerButton.toggleClass("--empty",!this.getColorCode())},events:function(){var t=this;this.$pickerButton.on("click",(function(){t.$globalButton.removeClass("--active"),t.isActiveGlobal()&&t.saveValue(t.getColorCode())})),this.$globalButton.on("click",(function(){e(".rey-colorGlobal-pop").removeClass("--active"),t.$globalPop.addClass("--active")})),e(".rey-colorGlobal-popClose",this.$globalPop).on("click",(function(){t.$globalPop.removeClass("--active")})),e(".__item",this.$globalPop).on("click",(function(){var a=e(this),n=a.attr("data-color"),r=a.attr("data-color-var");t.saveValue(r),e(".color-alpha",t.$pickerButton).css("background-color",n),t.$globalButton.addClass("--active"),t.$globalPop.removeClass("--active"),t.checkEmpty()}))},saveValue:function(e,t){t||this.$picker.attr("value",e).wpColorPicker("color",e),this.setting.set(e)},template:function(e){var t=wp.template("rey-color-markup");e.container.html(t({label:e.params.label,description:e.params.description,"data-id":e.id,mode:e.params.mode,inputAttrs:e.params.inputAttrs,"data-default-color":e.params.default,"data-alpha":e.params.choices.alpha,value:kirki.setting.get(e.id)}))}}),n.controlConstructor["rey-select"]=n.Control.extend({ready:function(){this.$list=e(".rey-control-select",this.container),this.initSelect()},initSelect:function(){var t=e('select[id="_customize-input-'+this.id+'"]',this.$list),a=this,n=parseInt(t.attr("data-multiple"),10)||1,r={escapeMarkup:function(e){return e}};this.params.query_args&&(r.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:a.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},r.minimumInputLength=2),this.params.placeholder&&(r.placeholder=this.params.placeholder,r.allowClear=!0),1<n&&(r.maximumSelectionLength=n,r.multiple=!0),e(t).select2(r)}}),kirki&&(e.extend(kirki.input,{select:{init:function(e){this.initAjaxControl(e)},initAjaxControl:function(t,a){var r=!1;a=a||'select[data-id="'+t.id+'"]';var i=parseInt(e(a).data("multiple")||10),o={escapeMarkup:function(e){return e}},s=function(){var a=e(this).val();a=null===a&&1<i?[]:a,t.setting.set(a)};if(t.params.placeholder&&(o.placeholder=t.params.placeholder,o.allowClear=!0),1<i&&(o.maximumSelectionLength=i),t.params.query_args&&!e.isEmptyObject(t.params.query_args)){if(o.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:t.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},o.minimumInputLength=2,!r){var c=n(t.id).get(),l=t.params.query_args,d=e(a).closest(".customize-control");return d.addClass("--ajax"),e.isEmptyObject(c)||e.isEmptyObject(l)?void e(a).selectWoo(o).on("change",s):(d.addClass("--loading"),void e.post({url:reyCoreAdmin.ajax_url,data:{query_args:l,values:c,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(t){r=!0,o.data=[],!t||"object"!=typeof t||e.isEmptyObject(t)||t.error||_.each(t,(function(e,t){o.data.push({id:t,text:e,selected:!0})})),e(a).selectWoo(o).on("change",s),d.removeClass("--loading")}}))}}else t.params.multiple&&1===t.params.multiple&&!(t.params.value in t.params.choices)&&n(t.id,(function(e){e.set(t.params.default)}));e(a).selectWoo(o).on("change",s)}}}),n.controlConstructor.repeater=n.controlConstructor.repeater.extend({ready:function(){var e=this;!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)?kirkiControlLoader(e):e.initKirkiControl(),this.initDependencies(e),this.initCssClasses(e)},initCssClasses:function(t){if(!t.type||"repeater"!==t.type){var a=function(a){if(t.params.fields){var n=t.params.fields;e.isEmptyObject(n)||(a=a||t.container,e.each(n,(function(t,n){if(n.condition&&!e.isEmptyObject(n.condition)){var r=e(".repeater-field.repeater-field-"+t,a);n.css_class&&r.addClass(n.css_class)}})))}};a(),t.container.on("row:new",(function(e,t){a(t.container)}))}},initDependencies:function(t){if("undefined"!=typeof kirkiDependencies&&(!t.type||"repeater"!==t.type)&&t.params.fields&&!e.isEmptyObject(t.params.fields)){var a=function(a){a=a||e(".repeater-row",t.container),e.each(t.params.fields,(function(t,n){if(n.condition){var r=n.condition;if(!e.isEmptyObject(r)){var i=e(".repeater-field.repeater-field-"+t,a),o=[];e.each(r,(function(t,n){var r=e('[data-field="'+n.setting+'"]',a),i=r.val();r.is('[type="checkbox"]')&&(i=r.prop("checked"));var s=kirkiDependencies.evaluate(n.value,i,n.operator);o.push(s)}));var s=o.every((function(e){return!0===e}));i.toggleClass("hidden",!s)}}}))};a(),e(t.container).on("change","input, select",(function(t){a(e(this).closest(".repeater-row"))})),t.container.on("row:new",(function(e,t){a(t.container)}))}},initSelect:function(t,a){var n=this,r=[],i=function(){t.container.find(".repeater-field select").each((function(i,o){var s=e(o),c=s.attr("data-field"),l=s.attr("data-multiple")||0,d={};l&&(d.maximumSelectionLength=parseInt(l)),(a=a||{})[c]=a[c]||"";var u=n.params.fields[c],p=u.query_args||{};if(e.isEmptyObject(p))l&&e(o).selectWoo(d).val(e(o).val());else{s.closest(".repeater-field-select").addClass("--ajaxfield"),r[t.rowIndex]=!1;var m={escapeMarkup:function(e){return e}};if(u.placeholder&&(m.placeholder=u.placeholder,m.allowClear=!0),1<l&&(m.maximumSelectionLength=l),m.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:p,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},m.minimumInputLength=2,!r[t.rowIndex]){var f=a[c]||{},h=s.closest(".repeater-field");if(!e.isEmptyObject(f))return h.addClass("--ajax --loading"),void e.post({url:reyCoreAdmin.ajax_url,data:{query_args:u.query_args,values:f,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(t){r=!0,m.data=[],t&&"object"==typeof t&&!e.isEmptyObject(t)&&_.each(t,(function(e,t){m.data.push({id:t,text:e,selected:!0})})),e(o).selectWoo(m).val(e(o).val()),h.removeClass("--loading")}})}e(o).selectWoo(m).val(e(o).val())}}))};i(),t.container.on("click",".repeater-row-header",(function(t){!e(this).closest(".repeater-row").hasClass("minimized")&&i()})),n.container.on("change",".repeater-field select",(function(t){var a=e(t.target),r=a.closest(".repeater-row").data("row"),i=n.getValue();i[r][a.data("field")]=e(this).val(),n.setValue(i)}))},initAjaxSelect:function(t){var a=!1;selector=selector||'select[data-id="'+t.id+'"]';var r=parseInt(e(selector).data("multiple"),10),i={escapeMarkup:function(e){return e}},o=function(){var a=e(this).val();a=null===a&&1<r?[]:a,t.setting.set(a)};if(t.params.placeholder&&(i.placeholder=t.params.placeholder,i.allowClear=!0),1<r&&(i.maximumSelectionLength=r),t.params.query_args&&!e.isEmptyObject(t.params.query_args)&&(i.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:t.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},i.minimumInputLength=2,!a)){var s=n(t.id).get(),c=t.params.query_args,l=e(selector).closest(".customize-control");if(!s||!c)return;return l.addClass("--ajax --loading"),void e.post({url:reyCoreAdmin.ajax_url,data:{query_args:c,values:s,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(t){a=!0,i.data=[],t&&"object"==typeof t&&!e.isEmptyObject(t)&&_.each(t,(function(e,t){i.data.push({id:t,text:e,selected:!0})})),e(selector).selectWoo(i).on("change",o),l.removeClass("--loading")}})}e(selector).selectWoo(i).on("change",o)}}))}}(wp.customize),n=e("#tmpl-customize-control-kirki-toggle-content"),r=(r=n.text()).replace("screen-reader-text","screen-reader-text-reyToggle"),n.text(r),"undefined"!=typeof acf&&(acf.addAction("ready",(function(){var t=acf.getFields();e.each(t,(function(t,a){if(a.$el.is(".rey-acf-responsive.--desktop")){var n,r,i=a.$el,o=a.data.name,s=e(".rey-acf-responsiveHandlers",i);if(s.length)return;if(n=i.siblings('[data-name="'+o+'_tablet"]'),r=i.siblings('[data-name="'+o+'_mobile"]'),!n.length&&!r.length)return;var c=wp.template("rey-acf-responsive-handler");s=i.prepend(c({device:!1}));var l=n.addClass("--hidden").prepend(c({device:!1})),d=r.addClass("--hidden").prepend(c({device:!1})),u=function(t){t.preventDefault();var a=e(t.currentTarget).attr("data-breakpoint");"desktop"===a&&(i.removeClass("--hidden"),n.addClass("--hidden"),r.addClass("--hidden")),"tablet"===a&&(i.addClass("--hidden"),n.removeClass("--hidden"),r.addClass("--hidden")),"mobile"===a&&(i.addClass("--hidden"),n.addClass("--hidden"),r.removeClass("--hidden"))};e("span[data-breakpoint]",s).on("click",u),e("span[data-breakpoint]",l).on("click",u),e("span[data-breakpoint]",d).on("click",u)}!function(t){if("gs_type"===t.data.name&&"rey-global-sections"===e('form[id="post"] input#post_type').val()&&"publish"!==e('form[id="post"] input#original_post_status').val()){var a=function(a){e("input#elementor-switch-mode-input").val()||(t.val()||t.val("generic"),e.post({url:reyCoreAdmin.ajax_url,data:{action:"rey_gs_set_type",security:reyCoreAdmin.ajax_nonce,type:a||t.val(),post_id:e('form[id="post"] input#post_ID').val()},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}}))};a(),e('input[type="radio"]',t.$el).on("change",(function(e){a(e.target.value)}))}}(a)}))})),e(".wp-admin.post-type-rey-templates #elementor-switch-mode-button").on("click",(function(e){var t=acf.getField("field_5eca340a16793");t.val()||(t.showError("Please select a template type"),e.preventDefault())})),acf.addAction("ready_field/key=field_5eca340a16793",(function(t){var a=t.val(),n=e("#elementor-switch-mode-button"),r=["single","archive"];a||n.addClass("disabled"),-1!==r.indexOf(a)&&n.addClass("disabled"),t.on("click",'.acf-button-group input[type="radio"]',(function(t){var a=e(this).val();n.removeClass("disabled"),-1!==r.indexOf(a)&&n.addClass("disabled")}))}))),{$wrapper:e(".rey-elManager-wrapper"),allItems:[],itemsNotInUse:[],scannedItems:"rey_scanned_items",init:function(){this.$container=e(".rey-elManager",this.$wrapper),this.$items=e(".rey-elManager-item",this.$container),this.$scanBtn=e(".elManager-scanButton",this.$wrapper),this.$disableUnusedBtn=e(".elManager-disableUnused",this.$wrapper);var t=this;this.$items.each((function(a,n){t.allItems.push(e(n).attr("data-element"))})),this.events()},events:function(){var t=this;e(".rey-toggleSwitch-label",this.$items).on("click",(function(t){t.preventDefault();var a=e(this).closest(".rey-elManager-item"),n=e('input[type="checkbox"]',a);a.hasClass("--active")?n.prop("checked",!1).trigger("change"):n.prop("checked",!0).trigger("change")})),e('input[type="checkbox"]',this.$items).on("change",(function(t){var a=e(t.target),n=a.closest(".rey-elManager-item"),r=n.attr("data-element");n.addClass("--disabled"),e.ajax({method:"post",url:reyCoreAdmin.ajax_url,data:{action:"change_widget_status",security:reyCoreAdmin.ajax_nonce,status:a.prop("checked"),element:r},success:function(e){e&&e.data&&e.data.length&&(-1!==e.data.indexOf(r)?(n.removeClass("--active"),a.prop("checked",!1)):(n.addClass("--active"),a.prop("checked",!0))),n.removeClass("--disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})})),this.$scanBtn.on("click",(function(n){n.preventDefault();var r=e(this);if(a(t.scannedItems))return t.itemsNotInUse=t.diff(t.allItems,a(t.scannedItems)),void t.finishedScanning();r.addClass("--loading"),e.ajax({method:"get",url:reyCoreAdmin.ajax_url,data:{action:"get_elementor_pages",security:reyCoreAdmin.ajax_nonce},success:function(a){if(a&&a.success&&a.data.length){t.itemsNotInUse=[];var n=a.data.length;e.each(a.data,(function(e,a){var r=e===n-1;t.iteratePost(a,r)}))}},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})})),this.$disableUnusedBtn.on("click",(function(a){a.preventDefault();var n=e(this);n.addClass("--loading"),e.ajax({method:"post",url:reyCoreAdmin.ajax_url,data:{action:"disable_unused_elements",security:reyCoreAdmin.ajax_nonce,items:t.itemsNotInUse},success:function(e){e&&e.success&&e.data.length&&(n.children("span:first-child").text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3))},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})}))},diff:function(e,t){for(var a=[],n=[],r=0;r<e.length;r++)a[e[r]]=!0;for(r=0;r<t.length;r++)a[t[r]]?delete a[t[r]]:a[t[r]]=!0;for(var i in a)n.push(i);return n},iteratePost:function(t,a){var n=this;e.ajax({method:"get",url:reyCoreAdmin.ajax_url,data:{action:"check_elements_status",security:reyCoreAdmin.ajax_nonce,post_id:t},success:function(t){t&&t.success&&t.data&&e.each(t.data,(function(e,t){""!=t&&-1===n.itemsNotInUse.indexOf(t)&&n.itemsNotInUse.push(t)})),a&&n.finishedScanning(!0)},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})},finishedScanning:function(a){var n=this;this.$scanBtn.removeClass("--loading"),this.itemsNotInUse.length&&(a&&(this.itemsNotInUse=this.diff(this.allItems,this.itemsNotInUse),t(this.scannedItems,this.itemsNotInUse,3e5)),this.$disableUnusedBtn.show(),e.each(this.itemsNotInUse,(function(t,a){e('.rey-elManager-item[data-element="'+a+'"]',n.$wrapper).addClass("--not-in-use")})))}}.init();var o,s=function(t){var a=this;this.init=function(){t=t||e("#widgets-right .widget-content");var n=function(){e("[data-condition]",t).each((function(n,r){var i=e(r),o=JSON.parse(i.attr("data-condition")||"{}"),s=[];if(!e.isEmptyObject(o)){e.each(o,(function(n,r){var i=e('[name="'+r.name+'"]',t),o=i.val();i.is('[type="checkbox"]')&&(o=i.prop("checked")),s.push(a.evaluateCondition(r.value,o,r.compare))}));var c=s.every((function(e){return!0===e}));i.toggleClass("hidden",!c)}}))};n(),e("input, select",t).on("change",(function(e){n()})),this.priceFilterWidget(t),this.repeaterField(t),this.makeTabs(t),this.makeTitle(t)},this.makeTabs=function(t){e(".rey-widgetTabs-wrapper",t).each((function(t,a){var n=e(a),r=e(".rey-widgetTabs-buttons span",n),i=e(".rey-widgetTabs-tabContent",n);r.on("click",(function(t){t.preventDefault();var a=e(this).attr("data-tab");r.removeClass("--active"),i.removeClass("--active"),e(this).addClass("--active"),e('.rey-widgetTabs-tabContent[data-tab="'+a+'"]',n).addClass("--active")}))}))},this.makeTitle=function(t){var a=e(".rey-widgetToTitle",t);a.each((function(t,n){var r=e(n).closest(".widget").find(".widget-title h3");e("<span/>").addClass(a.attr("data-class")||"").html(a.html()).appendTo(r)}))},this.repeaterField=function(t){e(".rey-widgetRepeater-add",t).on("click",(function(t){var a=e(this).closest(".rey-widgetRepeater-wrapper"),n=e(".rey-widgetRepeater-listWrapper",a),r=wp.template("rey-"+n.attr("data-id"))({int:parseInt(e(".rey-widgetRepeater-list.--default",n).last().attr("data-key")||10)+1});n.append(r)})),e(document).on("click",".rey-widgetRepeater-remove",(function(t){var a=e(this);a.closest(".rey-widgetRepeater-listWrapper");a.parent().hide().remove()}))},this.priceFilterWidget=function(t){e(".rey-widgetRangePoints-add",t).on("click",(function(t){var a=e(this).closest(".rey-widgetRangePoints-wrapper"),n=e(".rey-widgetRangePoints-listWrapper",a),r=wp.template("rey-"+n.attr("data-id"))({int:parseInt(e(".rey-widgetRangePoints-list.--default",n).last().attr("data-key")||10)+1});n.append(r)})),e(document).on("click",".rey-widgetRangePoints-remove",(function(t){var a=e(this);a.closest(".rey-widgetRangePoints-listWrapper");a.parent().hasClass("--start")||a.parent().hasClass("--end")||a.parent().hide().remove()})),e.each(["start","end"],(function(a,n){e(".rey-widgetRangePoints-add-"+n,t).on("click",(function(t){t.preventDefault();var a=e(this).closest(".rey-widgetRangePoints-wrapper"),r=e(".rey-widgetRangePoints-list.--"+n,a);r.removeClass("--hidden"),e('input[type="hidden"]',r).val("1"),e(this).addClass("--inactive")})),e(document).on("click",".rey-widgetRangePoints-list.--"+n+" .rey-widgetRangePoints-remove",(function(a){a.preventDefault();var r=e(this);r.parent().addClass("--hidden"),e('input[type="hidden"]',r.parent()).val(""),e(".rey-widgetRangePoints-add-"+n,t).removeClass("--inactive")}))}))},this.evaluateCondition=function(e,t,a){if("==="===a)return e===t;if("=="===a||"="===a||"equals"===a||"equal"===a)return e==t;if("!=="===a)return e!==t;if("!="===a||"not equal"===a)return e!=t;if(">="===a||"greater or equal"===a||"equal or greater"===a)return t>=e;if("<="===a||"smaller or equal"===a||"equal or smaller"===a)return t<=e;if(">"===a||"greater"===a)return t>e;if("<"===a||"smaller"===a)return t<e;if("contains"===a||"in"===a){if(_.isArray(e)&&_.isArray(t))return _.each(t,(function(t){if(e.includes(t))return found=!0,!1})),found;if(_.isArray(t))return _.each(t,(function(t){t==e&&(found=!0)})),found;if(_.isObject(t))return _.isUndefined(t[e])||(found=!0),_.each(t,(function(t){e===t&&(found=!0)})),found;if(_.isString(t))return _.isString(e)?-1<e.indexOf(t)&&-1<t.indexOf(e):-1<e.indexOf(t)}return e==t},this.init()},c=function(){var t="#widgets-only-visible-terms--",a=[],n=e(".wp-admin.widgets-php #widgets-right"),r=e('a[href^="'+t+'"]',n);r.each((function(i,o){var s=e(o).attr("href").split("--");a.push(s[1]),r.length-1===i&&e.post({url:reyCoreAdmin.ajax_url,data:{term_ids:a,action:"rey_custom_sidebars_links",security:reyCoreAdmin.ajax_nonce},success:function(a){"object"!=typeof a||a.error||e.each(a,(function(a,r){var i=e('a[href^="'+t+a+'"]',n);i.length&&i.attr({href:r,target:"_blank"})}))}})}))};e(document).on("widget-added widget-updated",(function(e,t){new s(t)})),e(document).ready((function(){new s,new c})),void 0!==(o=wp.customize)&&o.bind("ready",(function(){o.section.each((function(e){"widgets"===e.params.panel&&e.expanded.bind((function(e){e&&new s}))}))}));(e(".js-reyajaxfilters-migrate").on("click",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading"),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_ajaxfilters_migrate",security:reyCoreAdmin.ajax_nonce},success:function(t){t?1==t.success?(a.text("Deactivating plugin.."),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_ajaxfilters_deactivate_wcapf",security:reyCoreAdmin.ajax_nonce},success:function(e){e?1==e.success&&(a.text("Reloading page.."),setTimeout((function(){window.location.reload()}),1500)):console.error("Response cannot be retrieved")},error:function(e,t,n){a.removeClass("--loading").text("Something went wrong."),console.error(e),console.error(t),console.error(n)}})):(a.removeClass("--loading"),e("<p>Problem migrating: "+t.data.join(", ")+". Please reload and retry.</p>").insertAfter(a)):console.error("Response cannot be retrieved")},error:function(e,t,n){a.removeClass("--loading").text("Something went wrong."),console.error(e),console.error(t),console.error(n)}})})),function(e,t){for(var a=e.split("."),n=t.split("."),r=0;r<a.length;++r)a[r]=Number(a[r]);for(r=0;r<n.length;++r)n[r]=Number(n[r]);return 2==a.length&&(a[2]=0),a[0]>n[0]||!(a[0]<n[0])&&(a[1]>n[1]||!(a[1]<n[1])&&(a[2]>n[2]||!(a[2]<n[2])))}(reyCoreAdmin.rey_core_version,"1.5.0"))&&e('.wp-list-table.plugins tr[data-slug="wc-ajax-product-filter"] .plugin-description > p:first-child').html("<p><strong>This plugin is deprecated, can be deleted.</strong></p>");e(".js-toggle-ocdi-settings").on("change",(function(t){var a=e(t.target),n=a.closest(".rey-toggleSwitch"),r=a.attr("data-setting");n.addClass("--disabled"),e.ajax({method:"post",url:reyCoreAdmin.ajax_url,data:{action:"change_ocdi_setting",security:reyCoreAdmin.ajax_nonce,status:a.prop("checked"),setting:r},success:function(e){e&&e.data&&a.prop("checked",e.data),n.removeClass("--disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})})),e(".js-rey-demos-adjust-settings").on("click",(function(t){t.preventDefault(),e(this).parent().find(".rey-demosImportSettings").toggleClass("--hidden")}));var l=e('<datalist id="rey_menu_classes" />').insertBefore("#menu-management");e.each({"--separated":"Add separator before","--badge-green":"Green Badge","--badge-red":"Red Badge","--badge-orange":"Orange Badge","--badge-blue":"Blue Badge","--badge-accent":"Accent Color Badge","--highlight":"Accent Colored","--bold":"Bold","--mobile-only":"Mobile Only","--desktop-only":"Desktop Only","--animate-cols":"Animate Columns","--scrollto":"Navigate to anchor"},(function(t,a){e('<option value="'+t+'">'+a+"</option>").appendTo(l)})),e("#menu-management input.edit-menu-item-classes").attr({list:"rey_menu_classes"}),e(document).on("menu-item-added",(function(t,a){e("input.edit-menu-item-classes",a).attr({list:"rey_menu_classes"})})),function(){var n=e(".reyAdm-survey");if(n.length){var r="reycore-survey-dismissed";a(r)&&!0===a(r)||n.addClass("--visible"),e(document).on("click",".reyAdm-survey .notice-dismiss, .reyAdm-survey .js-survey-later",(function(e){e.preventDefault(),n.removeClass("--visible"),t(r,!0,864e5)})),e(document).on("click",".reyAdm-survey .js-survey-stop",(function(t){t.preventDefault(),n.css({opacity:".8","pointer-events":"none"}),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"reycore_survey_stop_showing",security:reyCoreAdmin.ajax_nonce},success:function(e){e&&1==e.success?n.removeClass("--visible"):n.css({opacity:"","pointer-events":""})},error:function(e,t,a){n.css({opacity:"","pointer-events":""}),console.error(e),console.error(t),console.error(a)}})}))}}()}(jQuery);