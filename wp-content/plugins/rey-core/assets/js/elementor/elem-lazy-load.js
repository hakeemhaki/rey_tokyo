!function(e){"use strict";var t=function(t,i){var o=this;this.init=function(){this.$scope=t,this.hasLoaded=!1,this.$scope.is("[data-lazy-load]")&&(this.config=JSON.parse(this.$scope.attr("data-lazy-load")||"{}"),this.config.element_id&&this.config.qid&&("scroll"===this.config.trigger?this.handleScroll():"click"===this.config.trigger&&this.config.trigger__click&&""!==this.config.trigger__click?this.handleClick():"mega-menu"===this.config.trigger&&this.handleMega()))},this.handleScroll=function(){ScrollOut({targets:this.$scope[0],once:!0,threshold:.25,onShown:function(e,t,i){o.hasLoaded||(o.config.from="scroll",o.handleLazy(),o.hasLoaded=!0)}})},this._validateQuery=function(e){try{return document.querySelector(e),!0}catch(e){console.log(e)}return!1},this.handleClick=function(){this._validateQuery(this.config.trigger__click)&&e(document).on("click",this.config.trigger__click,(function(){o.hasLoaded||(o.config.from="click",o.handleLazy(),o.hasLoaded=!0)}))},this.handleMega=function(){var t=this.$scope.closest(".rey-mainNavigation--desktop .rey-mega-gs");if(t.length){var i,n=t.closest(".menu-item.depth--0.--is-mega");e(n).on("mouseenter",(function(){o.hasLoaded||(i=setTimeout((function(){o.config.from="mega",o.handleLazy(),o.hasLoaded=!0}),200))})).on("mouseleave",(function(e){clearTimeout(i)}))}},this.handleLazy=function(){e.post({url:e.reyHelpers.params.ajaxurl,data:{action:"reycore_element_lazy",element_id:this.config.element_id,qid:this.config.qid,options:this.config.options},success:function(t){if(t.success)if(t.data){var n=e(t.data),s=function(){o.$scope.replaceWith(n);var t=e(".elementor-element-"+o.config.element_id);t.length&&(e(document).trigger("reycore/elementor/lazy_loaded",[t,o.config]),void 0!==i&&i(t,o.config))},c=!1,a=JSON.parse(e("[data-assets]",n).attr("data-assets")||"{}");a.styles&&e.reyHelpers.getMultiStyles(a.styles),a.scripts?e.reyHelpers.getMultiScripts(a.scripts).done((function(){c||(c=!0,s(),void 0!==e.reyCore&&e(document).trigger("reycore/init",[e.reyCore]))})):s()}else console.log("Empty element data.")}})},this.init()};e(document).on("reycore/elementor/element/lazyload",(function(e,i,o){new t(i,o)}))}(jQuery);