!function(e){"use strict";e(window).on("load",(function(t){!function(t){var i=e('a[data-rey-inline-modal][href^="#"]:not([href="#"]), a[href^="#modal-"]'),o=function(e){e.css("display","flex"),setTimeout((function(){e.addClass("--active")}),100)},a=function(t,i){t.removeClass("--active"),setTimeout((function(){var o=e.reyHelpers.expiration.day,a=t.attr("data-rey-modal-splash")||"{}",n=JSON.parse(a);e.isEmptyObject(n)||(o=n.nag?e.reyHelpers.expiration[n.nag]:0),e.reyHelpers.ls.set(t.attr("data-rey-modal-id"),!0,i||o),t.css("display","")}),100)};i.each((function(t,i){e(i).on("click",(function(t){t.preventDefault();var i=e(this),a=e('.rey-modalSection[data-rey-modal-id="'+i.attr("href")+'"]');if(a.is("[data-rey-modal-close-color]")&&e(".rey-modalSection-close",a).css("color",a.attr("data-rey-modal-close-color")),i.is("[data-modal-replacements]")){var n=JSON.parse(i.attr("data-modal-replacements")||"{}");e.each(n,(function(t,i){var o=e("#"+t,a);o.length&&(o.is("input")?o.val(i):o.html((function(e,o){return o.replace(t,i)})))}))}o(a)}))})),e(".rey-modalSection-overlay, .rey-modalSection-close").on("click",(function(t){t.preventDefault(),a(e(this).closest(".rey-modalSection"))})),e(document).on("reycore/modal/close",(function(t){a(e(".rey-modalSection.--active"))})),e(document).on("keyup",(function(t){27==t.keyCode&&a(e(".rey-modalSection.--active"))})),e(document).on("click",".u-close-modal-forever",(function(t){t.preventDefault();var i=e(this).closest(".rey-modalSection");i.length&&a(i,e.reyHelpers.expiration.year)}));var n={didShow:!1,height:!1,scrollDistance:!1,init:function(t,i,o){this.$el=t,this.distance=i,o&&(this.didShow=e.reyHelpers.ls.get(t.attr("data-rey-modal-id"))),this.calculateHeight(),this.doScroll()},getDocHeight:function(){var e=document.body,t=document.documentElement;this.height=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},calculateHeight:function(){this.getDocHeight(),this.scrollDistance=parseInt(this.distance)/100*this.height},doScroll:function(){var t=this;e(window).on("scroll",(function(e){var i=window.pageYOffset||document.documentElement.scrollTop;!t.didShow&&i>t.scrollDistance&&(o(t.$el),t.didShow=!0)}))}},c={didShow:!1,time:!1,init:function(t,i,a){a&&(this.didShow=e.reyHelpers.ls.get(t.attr("data-rey-modal-id"))),this.didShow||setTimeout((function(){o(t),self.didShow=!0}),1e3*i)}},l={didShow:!1,time:!1,init:function(t,i){i&&(this.didShow=e.reyHelpers.ls.get(t.attr("data-rey-modal-id"))),this.didShow||e(document).on("mouseleave",(function(e){e.clientY<0&&o(t)}))}};e(".rey-modalSection[data-rey-modal-splash]").each((function(t,i){var o=e(i),a=JSON.parse(o.attr("data-rey-modal-splash")||{});switch(a.type){case"scroll":n.init(o,a.distance,""!==a.nag);break;case"time":c.init(o,a.time,""!==a.nag);break;case"exit":l.init(o,""!==a.nag)}}))}()}))}(jQuery);