!function(e){"use strict";e(document).one("reycore/init",(function(s,t){var a,i;a=t,i={class:"is-opened",$searchPanel:e(".rey-searchPanel"),isOpen:!1,init:function(s){this.$searchPanel.length&&(this.$app=a._theme,this.$searchPanelWrapper=s,this.$searchBtn=e(".js-rey-headerSearch-toggle",this.$searchPanelWrapper),this.$searchField=e("input[type='search']",this.$searchPanel),this.panelStyle=this.$searchPanel.attr("data-style"),this.fromSticky=this.$searchBtn.hasClass("js-from-sticky"),this.$headerSource=this.fromSticky?e('.rey-stickyContent[data-align="top"] > .elementor'):e(".rey-siteHeader"),this.$searchLogo=e("img.custom-logo[data-search-logo]",this.$headerSource),this.events())},events:function(){var s=this;this.$searchBtn.on("click",(function(t){t.preventDefault(),e.reyHelpers.is_global_section_mode||(s.isOpen?s.close():s.open())})),e(".js-rey-searchPanel-close",this.$searchPanel).on("click",(function(e){e.preventDefault(),s.isOpen&&s.close()})),e(document).on("rey/close_panels",(function(e,t){"search-panel"!==t&&s.isOpen&&s.close()}))},addTopPosition:function(){var s,t=this,i=function(){s=t.$headerSource.outerHeight()+e.reyHelpers.adminBar;var i=e('.rey-stickyContent.--visible[data-align="top"]');i.length&&(s=i.children(".elementor").outerHeight()),t.$searchPanel.css({top:s+"px","max-height":"calc(100% - "+s+"px)"}),a.elements.$site_overlay.css("top",s+"px"),e.reyHelpers.is_desktop||t.$searchPanel.css("height",e(window).height()-s+"px")};i(),e(window).on("resize",e.reyHelpers.debounce((function(){t.isOpen&&i()}),500))},open:function(){var s=this;this.isOpen=!0,e(document).trigger("rey/close_panels",["search-panel"]),e.reyHelpers.overlay("site","open"),"wide"===this.panelStyle&&(this.$searchBtn.addClass(this.class),this.$searchLogo.length&&this.$searchLogo.attr({"data-initial-src":this.$searchLogo.attr("src"),src:this.$searchLogo.attr("data-search-logo"),srcset:""})),"side"!==this.panelStyle&&"wide"!==this.panelStyle||e.reyHelpers.doScroll.disable(),this.$searchPanel.show(0,(function(){s.$searchPanel.addClass(s.class),s.$searchField.focus(),e("body").addClass("search-panel--"+s.class),e("body").addClass("search-panel--"+s.panelStyle),"wide"===s.panelStyle&&s.addTopPosition()}))},close:function(){var s=this;this.isOpen=!1,a.elements.$site_overlay.css("top",""),this.$searchPanel.css("height",""),"side"!==this.panelStyle&&"wide"!==this.panelStyle||e.reyHelpers.doScroll.enable(),this.$searchPanel.length&&("wide"===this.panelStyle&&this.$searchLogo.length&&this.$searchLogo.attr("data-initial-src")&&this.$searchLogo.attr({src:this.$searchLogo.attr("data-initial-src"),srcset:""}),this.$searchPanel.removeClass(this.class),this.$searchBtn.removeClass(this.class),e("body").removeClass("search-panel--"+this.class),e("body").removeClass("search-panel--"+this.panelStyle),e.reyHelpers.overlay("site","close"),setTimeout((function(){s.$searchPanel.hide(0)}),300))}},e(".js-rey-headerSearch").each((function(s,t){Object.create(i).init(e(t))}))}))}(jQuery);