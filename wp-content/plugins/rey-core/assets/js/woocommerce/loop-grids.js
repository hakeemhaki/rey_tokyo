!function(e){"use strict";e(document).on("reycore/woocommerce/init",(function(t,i){var r;r={gridTypes:["default","masonry","masonry2","metro","scattered","scattered2"],init:function(t){var i=this;this.$pGrid=e(t),this.$pGrid.length&&e.each(this.gridTypes,(function(e,t){i.$pGrid.hasClass("rey-wcGrid-"+t)&&void 0!==i["run_"+t]&&i["run_"+t]()}))},run_masonry:function(){var t=this;this.doMasonryGrid(),e(document).on("wcapf_finished reycore/ajaxfilters/finished",(function(i,r,n){t.doMasonryGrid(e("ul.products",r))}))},run_masonry2:function(){var t=this;this.doMasonryGrid(),e(document).on("wcapf_finished reycore/ajaxfilters/finished",(function(i,r,n){t.doMasonryGrid(e("ul.products",r))}))},doMasonryGrid:function(t){var i=t||this.$pGrid,r=!1;i.hasClass("--prevent-masonry")||void 0===e.fn.masonry&&void 0===e.fn.imagesLoaded||(i.imagesLoaded((function(){r||((r=i.masonry({itemSelector:"li.product",percentPosition:!0,transitionDuration:0,isInitLayout:!1})).on("layoutComplete",(function(){r.addClass("--msnry-initialised")})),r.masonry(),r.trigger("rey/masonry"))})),e(document).on("rey/refresh_html",(function(e,t){t.imagesLoaded((function(){r&&r.masonry("appended",t)}))})),e(document).on("rey/view_selector/change_cols",(function(e){r&&r.masonry()})))},run_scattered:function(){this.doScattered()},run_scattered2:function(){this.doScattered("mixed")},doScattered:function(t){var i=this;if(!this.$pGrid.hasClass("--prevent-scattered")){this.$products=e("li.product",this.$pGrid);var r=function(i){"mixed"!==t?i.addClass("scGrid-offset"):i.addClass("scGrid-offset-"+e.reyHelpers.getRandomInt(8))};if(e.reyHelpers.params.js_params.scattered_grid_custom_items&&e.reyHelpers.params.js_params.scattered_grid_custom_items.length)e.each(e.reyHelpers.params.js_params.scattered_grid_custom_items,(function(t,n){r(e("li.product.post-"+n,i.$pGrid))}));else{var n=e.reyHelpers.params.js_params.scattered_grid_max_items||7;this.$products.sort((function(){return.5-Math.random()})).slice(0,n).each((function(t,i){r(e(i))}))}}},run_metro:function(){"string"==typeof document.createElement("div").style.grid||(this.$pGrid.addClass("--no-css-grid"),this.doMasonryGrid(),e(document).on("wcapf_finished reycore/ajaxfilters/finished",(function(t,i,r){self.doMasonryGrid(e("ul.products",i))})))}},e(".rey-siteMain ul.products").each((function(e,t){r.init(t)})),{key:"reycore/infinite",$grid:e("ul.products.--paginated.--infinite"),init:function(){e.reyHelpers.params.js_params.infinite_cache&&(this.run(),this.events())},run:function(){this.currentData=JSON.parse(sessionStorage.getItem(this.key)),null!==this.currentData&&this.$grid.length&&(this.currentData.url!==window.location.href?sessionStorage.removeItem(this.key):(this.$grid.html(this.currentData.content),e(document).trigger("rey/infinite/refresh",[this.$grid])))},events:function(){var t=this;e(document).on("rey/product/loaded",(function(i,r,n){var s=t.$grid.html();s&&e.each({"is-animated-entry":"","splide--ltr splide--draggable is-active":"","is-active is-visible":"","opacity: 0;":""},(function(e,t){s=s.replaceAll(e,t)})),n={url:window.location.href,content:s},sessionStorage.setItem(t.key,JSON.stringify(n))})),e(document).on("reycore/ajaxfilters/finished",(function(){sessionStorage.removeItem(t.key)}))}}.init()}))}(jQuery);