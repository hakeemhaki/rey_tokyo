!function(e){"use strict";var t=function(t){t=t||e(document);var s={init:function(s){
//! TODO: allow in elementor?
this.$products=e(s,t),this.$viewSelector=e(".rey-viewSelector",this.$products.prev(".rey-loopHeader")),this.$gridElement=this.$products.closest(".elementor-widget-reycore-product-grid"),this.$eProGridElement=this.$products.closest(".elementor-products-grid"),this.$products.length&&this.$viewSelector.length&&(this.$viewSelectorsChildren=e("li",this.$viewSelector),this.elementId=this.$gridElement.length?this.$gridElement.attr("data-id"):"",this.lsName="rey-active-view-selector-"+e.reyHelpers.params.site_id+this.elementId,this.cols=localStorage.getItem(this.lsName),this.changeCols(),this.events(),e(document).trigger("rey/view_selector/load",[this.$products,this.cols]))},changeCols:function(){!this.cols&&this.$viewSelectorsChildren.length&&(this.cols=this.$viewSelectorsChildren.filter(".is-active").attr("data-count")||parseFloat(e.reyHelpers.params.catalog_cols||4),e("body.customizer-preview-mode").length||localStorage.setItem(this.lsName,this.cols)),this.$viewSelector.hasClass("--is-visible")||this.$viewSelector.addClass("--is-visible"),this.$products.hasClass("--is-visible")||this.$products.addClass("--is-visible"),this.$viewSelectorsChildren.removeClass("is-active").filter('[data-count="'+this.cols+'"]').addClass("is-active"),this.$products.removeClass((function(e,t){return(t.match(/(^|\s)columns-\d+/g)||[]).join(" ")})).addClass("columns-"+this.cols).attr("data-cols",this.cols),this.$products.hasClass("rey-wcGrid-metro")&&e.reyHelpers.is_desktop&&e.reyHelpers.setProperty("--woocommerce-grid-columns",this.cols,this.$products[0]),this.$eProGridElement.length&&this.$products.closest(".woocommerce").removeClass((function(e,t){return(t.match(/(^|\s)columns-\d+/g)||[]).join(" ")})).addClass("columns-"+this.cols)},events:function(){var t=this;this.$viewSelectorsChildren.on("click",(function(s){var i=e(s.currentTarget).attr("data-count")||3;localStorage.setItem(t.lsName,i),t.cols=i,t.changeCols(),e(document).trigger("rey/view_selector/change_cols",[t.$products,t.cols])}))}};e(".woocommerce ul.products:not(.--prevent-change-cols)").each((function(e,t){Object.create(s).init(t)}))};e(document).on("reycore/woocommerce/init",(function(e,s){t()})),e(document).on("rey/refresh_html",(function(e,s){t(s)}))}(jQuery);