!function(t){"use strict";var e={init:function(){this.$modal=t(".rey-requestQuote-modal"),this.$modalForm=t("form",this.$modal),this.$modalForm.length&&(this.$btn=t(".js-requestQuote"),this.variationAware=reycoreRequestQuoteParams.variation_aware,this.$hiddenId=t('<input type="hidden" name="rey-request-quote-product-id" />').appendTo(this.$modalForm),this.handleVariations(),this.assignId(),this.events())},events:function(){var e=this;t(document).on("click",".js-requestQuote",(function(a){a.preventDefault();var i=t(this),o=i.attr("data-id")||0,n=i.closest(".rey-quickviewPanel");e.variationAware&&i.hasClass("--disabled")?window.alert(reycoreRequestQuoteParams.disabled_text):(n.length&&(o=t("div.product",n).attr("data-id")||0)&&e.assignId(o),void 0!==t.reyCore&&Object.create(t.reyCore.reyModal).init({width:550,content:t(".rey-requestQuote-modal"),wrapperClass:"rey-requestQuote-modalWrapper",zIndex:1060,id:"rq-"+o}))})),t(document).on("woocommerce_variation_has_changed",".variations_form",(function(a){a.stopImmediatePropagation();var i=t(a.target).find('input[type="hidden"][name="variation_id"]').val();i&&e.assignId(i)}))},handleVariations:function(){if(this.variationAware){var e=this;t(document).on("hide_variation reset_data",".variations_form",(function(t){e.$btn.addClass("--disabled")})).on("show_variation",".variations_form",(function(t){e.$btn.removeClass("--disabled")}))}},assignId:function(t){t=t||this.$modal.attr("data-id"),this.$hiddenId.val(t)}};t(document).on("reycore/woocommerce/init",(function(t,a){e.init()}))}(jQuery);