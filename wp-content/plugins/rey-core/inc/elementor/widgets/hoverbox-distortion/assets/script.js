!function(t,e,i){"use strict";var n={settings:{},elements:{},timeline:!1,init:function(e){var i=this;if(this.$el=e,this.elements.$parentSection=this.$el.closest(".elementor-top-section"),this.elements.$imageContainer=t(".hbDist-imgs",this.$el),this.images=JSON.parse(this.$el.attr("data-images")||"{}"),this.totalImages=this.images.length,!(this.totalImages<2)&&"undefined"!=typeof THREE&&"undefined"!=typeof anime&&"undefined"!==ReyDistortionApp){var n=function(){i.settings=t.extend({transitionDuration:1200,intensity1:.8,intensity2:"",effect:"",easing:"easeInOutCubic",vertical:!1},JSON.parse(i.$el.attr("data-box-settings")||"{}")),i.settings.transitionDuration=parseInt(i.settings.transitionDuration),i.settings.intensity1=parseFloat(i.settings.intensity1),""===i.settings.intensity2?i.settings.intensity2=i.settings.intensity1:i.settings.intensity2=parseFloat(i.settings.intensity2),"random"===i.settings.effect?i.settings.effect=reyThreeConfig.displacements[t.reyHelpers.getRandomInt(15)]:""!==i.settings.effect&&(i.settings.effect=reyThreeConfig.displacements[i.settings.effect]),i.activateBox()};this.elements.$parentSection.hasClass("rey-animate-el")?t(document).on("rey/elementor_section/animation_complete",(function(t,e,s){e.id==i.elements.$parentSection.attr("data-id")&&n()})):t("body").hasClass("--lazyload-enabled")?t("img, picture",this.elements.$imageContainer).last().on("lazyloaded",(function(){n()})):this.$el.imagesLoaded((function(){n()}))}},activateBox:function(){this.elements.$overlayBg=t(".hbDist-imgsBg",this.$el),this.elements.$captions=t(".cDistortion-captionItem",this.$el);var e=this.elements.$imageContainer.children("img, picture").first();this.imgWidth=parseInt(e.attr("width")||1e3),this.imgHeight=parseInt(e.attr("height")||1e3),this.distortionApp=new ReyDistortionApp({imgWidth:this.imgWidth,imgHeight:this.imgHeight,effect:this.settings.effect,intensity1:this.settings.intensity1,intensity2:this.settings.intensity2,vertical:this.settings.vertical,$images:this.images,nextImage:1,$el:this.$el}),this.$el.append(this.distortionApp.renderer.domElement),this.createTimeline(),this.events()},events:function(){var t=this;this.$el.on("mouseenter",(function(e){t.timeline&&(t.timeline.reversed&&t.timeline.reverse(),t.timeline.play())})),this.$el.on("mouseleave",(function(e){t.timeline&&(t.timeline.reversed||(t.timeline.reverse(),t.timeline.completed=!1),t.timeline.play())}))},createTimeline:function(){this.timeline=anime.timeline({autoplay:!1}),this.timeline.add({targets:this.distortionApp.mat.uniforms.dispFactor,value:1,easing:this.settings.easing,duration:this.settings.transitionDuration})},activateCaption:function(){var t=this;this.elements.$captions.removeClass(this.activeCssClass),setTimeout((function(){t.elements.$captions.eq(t.activeSlide).addClass(t.activeCssClass)}),this.settings.transitionDuration/4)}};t(window).on("elementor/frontend/init elementor/frontend/ajax",(function(){e.hooks.addAction("frontend/element_ready/reycore-hoverbox-distortion.default",(function(t,e){Object.create(n).init(e(".rey-hoverBox-distortion",t))}))}))}(jQuery,window.elementorFrontend,window.elementorModules);