!function(a){"use strict";var e=function(){setTimeout((function(){a(document).trigger("reycore/minicart/open")}),500)};a(document.body).on("added_to_cart",(function(t,r,o,n){var d=!n.hasClass("single_add_to_cart_button");if("yes"!==wc_add_to_cart_params.cart_redirect_after_add&&"popup"===a.reyHelpers.params.after_add_to_cart){if(d&&!1===a.reyHelpers.params.after_add_to_cart_popup_config.show_in_loop||n.closest(".product").hasClass("--prevent-aatc"))return void e();!function(t){if(void 0!==a.reyCore){t||(t=a(".single_add_to_cart_button:not(.disabled)"));var r=wp.template("reycore-aatc-tpl");if(t.hasClass("--prevent-aatc"))e();else{var o=t.attr("data-product_id")||t.val()||t.closest("form.cart").find('input[name="product_id"]').val()||"";o?Object.create(a.reyCore.reyModal).init({onInit:function(e){e.$instance.length||(void 0!==a.reyHelpers.params.ajaxurl?a.ajax({type:"POST",url:a.reyHelpers.params.ajaxurl,dataType:"json",data:{action:"reycore_after_add_to_cart_popup",product_id:o},success:function(t){var r=a(".rey-acPopup-content",e.$newContent);if(a(".rey-modalLoader",e.$modal).fadeOut("fast"),!t||t&&""===t.data)r.html("Couldn't retrieve data!");else{var o=r.html(t.data),n=a("ul.products",o),d=a("li.product",o),p=parseInt(o.attr("data-cols"))||4;n.length&&(a(document).trigger("rey/product/loaded",[d]),a(".add_to_cart_button",o).addClass("--prevent-aatc"),n.hasClass("--carousel")&&d.length>p?a.reySplide({element:n[0],config:{type:"slide",autoplay:a.reyHelpers.params.after_add_to_cart_popup_config.autoplay,interval:parseInt(a.reyHelpers.params.after_add_to_cart_popup_config.autoplay_speed),perPage:p,gap:30,rewind:!0,arrows:!1,pagination:!1,breakpoints:{1024:{perPage:3},767:{perPage:2,gap:15}}},createArrows:{navSelector:"rey-acPopup-nav",appendTo:a(".rey-acPopup-header",e.$modal)},markup:{selector:"acPopup-carousel"}}):d.each((function(e,t){setTimeout((function(){a(t).addClass("--animated-in")}),30)})))}}}):console.warn("Ajax url undefined"))},width:1200,content:r(),removeLoadingOnOpen:!1,wrapperClass:"rey-acPopup-modal",id:"aatc-"+o}):e()}}else console.warn("$.reyCore undefined.")}(n)}}))}(jQuery);