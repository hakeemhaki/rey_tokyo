!function(a){"use strict";a(document).on("click",".rey-buyNowBtn",(function(t){t.preventDefault();var e=a(this),o=e.closest("form.cart");if(e.hasClass("--disabled"))window.alert(e.attr("data-disabled-text"));else if(o.length||(o=e.closest("div.product").find("form.cart")),o.length||(o=a("form.cart").first()),o.length){var r=o.serialize()||"";-1===(r+="&action=rey_buy_now").indexOf("product_id")&&(r+="&product_id="+e.attr("data-id")),e.addClass("--loading"),a.post({url:a.reyHelpers.params.ajaxurl,data:r,success:function(a){a&&a.data&&a.data.checkout_url?window.location.href=a.data.checkout_url:e.removeClass("--loading")}})}})),a(document.body).on("found_variation reset_data",".variations_form",(function(t,e){t.stopImmediatePropagation();var o=a(".rey-buyNowBtn");o.length&&(e&&e.variation_id?o.removeClass("--disabled"):o.addClass("--disabled"))}))}(jQuery);