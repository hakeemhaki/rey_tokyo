!function(h){"use strict";var a=function(e,d){var a={windowEdge:d.siteSize,init:function(e){this.$mainMenu=e,this.$body=h("body"),this.$header=h(".rey-siteHeader"),this.$mainMenu.length&&(this.$mobileBtn=this.$mainMenu.prevAll(".rey-mainNavigation-mobileBtn"),this.$mobileNav=this.$mainMenu.nextAll(".rey-mainNavigation.rey-mainNavigation--mobile"),this.id=this.$mainMenu.attr("data-id"),this.tapToLink=this.$mainMenu.closest(".elementor-element").is(".--tap-link"),this.delays=h.reyHelpers.params.theme_js_params.menu_delays,h.reyHelpers.is_edit_mode&&(this.delays=!1),this.overlayTarget=this.$header.length?"header":"site",this.createSubmenuIndicators(),this.createBadges(),this.makeAcc(),this.events())},createBadges:function(){h([".menu-item.--badge-green",".menu-item.--badge-red",".menu-item.--badge-orange",".menu-item.--badge-blue",".menu-item.--badge-accent"].join(","),this.$mainMenu).each(function(e,n){var a=h(n).children("a");h('<i class="--menu-badge"></i>').text(a.attr("title")).prependTo(a.children("span"))})},createSubmenuIndicators:function(){var s=this;h.each(h(".menu-item-has-children",this.$mainMenu),function(e,n){var a=h(n);if(!h("> .--submenu-indicator",n).length&&!a.parents(".--is-mega").length){var i=n,t=s.$mainMenu.attr("data-sm-indicator"),r=a.hasClass("depth--0");r||(i=h(" > a",n)),h('<i class="--submenu-indicator --submenu-indicator-'+t+'"></i>').appendTo(i),r&&s.$mainMenu.children("ul").hasClass("--submenu-top")&&h('<i class="__submenu-top-indicator"></i>').appendTo(i)}}),h.each(h(".menu-item-has-children > a > span",this.$mobileNav),function(e,n){h('<i class="--submenu-indicator --submenu-indicator-'+s.$mainMenu.attr("data-sm-indicator")+'"></i>').prependTo(n)})},events:function(){var t=this;if(h(document).on("rey/close_panels",function(e,n){n!=="mobile-menu"+t.id&&t.closeMobileMenu()}),"hover"===h.reyHelpers.params.theme_js_params.menu_items_open_event){var a,i,r,s,o=function(){h.reyHelpers.overlay(t.overlayTarget,"close",!1,"--src-menu")},m=parseFloat(h.reyHelpers.params.theme_js_params.menu_items_hover_timer),u=parseFloat(h.reyHelpers.params.theme_js_params.menu_items_leave_timer);this.delays||(u=m=0);var n,l=function(e){e.removeClass("--hover"),e.attr("aria-expanded","false")};h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",this.$mainMenu).on("mouseenter",function(e){var n=h(this);clearTimeout(i),clearTimeout(r),clearTimeout(s),a=setTimeout(function(){if(l(n.siblings()),h.reyHelpers.params.theme_js_params.menu_hover_overlay&&!h.reyHelpers.headerOverlayOpened&&h.reyHelpers.overlay(t.overlayTarget,"open",!1,"--src-menu"),n.addClass("--hover").attr("aria-expanded","true"),h.reyHelpers.params.theme_js_params.menu_trigger_events){var e=n.children(".rey-mega-gs");e.length&&h(document).trigger("rey/menu/open_mega",[e,n])}},m)}).on("mouseleave",function(e){var n=h(this);clearTimeout(a),i=setTimeout(function(){l(n)},u)}),h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item:not(.menu-item-has-children)",this.$mainMenu).on("mouseenter",function(e){s=setTimeout(function(){h.reyHelpers.headerOverlayOpened&&o()},u)}),h(".rey-mainMenu.rey-mainMenu--desktop",this.$mainMenu).on("mouseleave",function(e){r=setTimeout(function(){(h.reyHelpers.headerOverlayOpened||h.reyHelpers.is_edit_mode)&&o()},u)}),h(".rey-mainMenu.rey-mainMenu--desktop",this.$mainMenu).on("mouseenter",function(e){t.$mainMenu.addClass("--active"),clearTimeout(n)}).on("mouseleave",function(e){n=setTimeout(function(){t.$mainMenu.removeClass("--active")},parseFloat(h.reyHelpers.params.theme_js_params.menu_hover_timer))})}else if("click"===h.reyHelpers.params.theme_js_params.menu_items_open_event){var c=function(){h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",t.$mainMenu).attr("aria-expanded","false").removeClass("--hover"),t.$mainMenu.removeClass("--active")};h(document).on("rey/close_panels",function(e,n){"main-menu"!==n&&c()}),h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children > a",this.$mainMenu).on("click",function(e){e.preventDefault();var n=h(this),a=n.parent();if(h(document).trigger("rey/close_panels",["main-menu"]),c(),a.hasClass("--hover"))return t.$mainMenu.removeClass("--active"),a.attr("aria-expanded","false").removeClass("--hover"),void o();if(h.reyHelpers.params.theme_js_params.menu_hover_overlay&&!h.reyHelpers.headerOverlayOpened&&h.reyHelpers.overlay(t.overlayTarget,"open",!1,"--src-menu"),t.$mainMenu.addClass("--active"),a.addClass("--hover").attr("aria-expanded","true"),h.reyHelpers.params.theme_js_params.menu_trigger_events){var i=n.children(".rey-mega-gs");i.length&&h(document).trigger("rey/menu/open_mega",[i,n])}})}h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item .menu-item-has-children",this.$mainMenu).on("mouseenter",function(e){h(e.currentTarget).addClass("--hover")}).on("mouseleave",function(e){h(e.currentTarget).removeClass("--hover")}),this.$mobileBtn.on("click",function(e){h(this).hasClass("--prevent-main-mobile-nav")||h.reyHelpers.is_global_section_mode||(e.preventDefault(),h(document).trigger("rey/close_panels",["mobile-menu"+t.id]),h.reyHelpers.overlay(t.overlayTarget,"open"),h.reyHelpers.applyFilter("rey/main_menu/mobile/disable_scroll",!0,t.$mobileBtn)&&h.reyHelpers.doScroll.disable(),t.$mobileNav.addClass("--is-active"),t.$body.addClass("--mobileNav--active"))}),h(".rey-mobileMenu-close",this.$mobileNav).on("click",function(e){h.reyHelpers.is_global_section_mode||(e.preventDefault(),t.closeMobileMenu(!0))}),h(".rey-mainMenu-mobile .menu-item-has-children > a",this.$mobileNav).on("click",function(e){if(!h.reyHelpers.is_global_section_mode){var n=h(this),a=n.siblings().is(".sub-menu");if(n.toggleClass("--open"),t.tapToLink)h(e.target).is("i.--submenu-indicator")&&(e.preventDefault(),n.next().slideToggle());else a&&(e.preventDefault(),n.next().slideToggle())}}),h(".rey-mainMenu--desktop .sub-menu",this.$mainMenu).each(function(e,n){h("> li > a > span",n).each(function(e,n){h(n).css({"transition-delay":.03*e+"s"})})}),h("ul.rey-mainMenu-mobile",this.$mobileNav).each(function(e,n){var a=h(this),i=function(e,n){h(n).css({"transition-delay":.03*e+.3+"s"})};a.closest(".--submenu-display-expanded").length?h("> li > a > span, .sub-menu > li > a > span",a).each(i):(h("> li > a > span",a).each(i),h(".sub-menu > li > a > span",a).each(i))}),h(".rey-mainMenu.rey-mainMenu--desktop .menu-item-has-children",this.$mainMenu).on("mouseenter",function(e){var n=h(e.currentTarget).children(".sub-menu");if(n.length){n.removeClass("--reached-end");var a=n.offset();(h.reyHelpers.is_rtl?a.right:a.left)+n.width()>t.windowEdge&&n.addClass("--reached-end")}}),h(".menu-item > a[href*='#']:not([href='#'])",this.$mobileNav).on("click",function(e){if(!h.reyHelpers.is_global_section_mode){if(t.tapToLink)if(h(e.target).is("i.--submenu-indicator"))return void t.closeMobileMenu(!0);var n=h(this).attr("href");n.substring(0,n.indexOf("#"))===window.location.origin+window.location.pathname&&e.preventDefault(),t.closeMobileMenu(!0)}}),h(window).on("resize",h.reyHelpers.debounce(function(){t.windowEdge=d.siteSize},500)),h(document).on("keyup",function(e){27==e.keyCode&&h(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",t.$mainMenu).removeClass("--hover")})},makeAcc:function(){if(h.reyHelpers.applyFilter("rey/main_menu/a11y",!0)){var a=this;this.$popupItems=h(".menu-item-has-children.depth--0, .menu-item-has-children.--is-regular .menu-item-has-children",this.$mainMenu),this.$popupItems.attr({"aria-haspopup":"true","aria-expanded":"false"}),h(".rey-mega-gs a, .sub-menu a",this.$popupItems).attr("tabindex","-1"),h(document).on("keydown",function(e){if(9!==e.keyCode){if(-1!==[13,32].indexOf(e.keyCode)){var n=h('.menu-item[aria-haspopup="true"] > a:focus',a.$mainMenu).parent("li");n.length&&(e.preventDefault(),n.each(function(e,n){h(n).attr("aria-expanded","true").trigger("mouseenter"),h(".rey-mega-gs a, > .sub-menu > li > a",n).removeAttr("tabindex")}))}27==e.keyCode&&i()}});var e=!1;h(".depth--0 > a",this.$mainMenu).on("mousedown",function(){e=!0}).on("focusin",function(){e||i(),e=!1});var i=function(){var e=h('.menu-item[aria-haspopup="true"][aria-expanded="true"]',a.$mainMenu);e.length&&(e.attr("aria-expanded","false").trigger("mouseleave"),h(".rey-mega-gs a, .sub-menu a",e).attr("tabindex","-1"))}}},closeMobileMenu:function(e){h.reyHelpers.is_desktop&&!e||h.reyHelpers.overlay(this.overlayTarget,"close"),this.$mobileNav.removeClass("--is-active"),h.reyHelpers.doScroll.enable(),this.$body.removeClass("--mobileNav--active")}};e=e||h(document),h(".rey-mainNavigation.rey-mainNavigation--desktop",e).each(function(e,n){Object.create(a).init(h(n))})};h(document).on("reytheme/init",function(e,n){n.mainMenu=function(e){a(e,n)},n.mainMenu()})}(jQuery);